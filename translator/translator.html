<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
	<!--<![endif]-->
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>olili-lan Translator</title>
		<meta name="description" content="Translate olili-lan to English with this online translator. Based on LingoJam." />
		<meta name="viewport" content="width=device-width" />
		<link rel="stylesheet" href="style.css" />
		<link id="infixes_file" href="./langdata/infixes.csv"/>
		<link id="prefixes_file" href="./langdata/prefixes.csv"/>
		<link id="suffixes_file" href="./langdata/suffixes.csv"/>
		<link id="words_file" href="./langdata/words.csv"/>
		<link id="phrases_file" href="./langdata/phrases.csv"/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
		<script src="./js/translator.js"></script>
		<script src="./js/translate.js"></script>
		<script src="./langdata/olililan.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
		<script>
			eval(
				(function (p, a, c, k, e, r) {
					e = function (c) {
						return c.toString(a);
					};
					if (!"".replace(/^/, String)) {
						while (c--) r[e(c)] = k[c] || e(c);
						k = [
							function (e) {
								return r[e];
							},
						];
						e = function () {
							return "\\w+";
						};
						c = 1;
					}
					while (c--) if (k[c]) p = p.replace(new RegExp("\\b" + e(c) + "\\b", "g"), k[c]);
					return p;
				})(
					'c(9["\\4\\0\\5\\1\\6\\7\\0\\2"]["\\8\\0\\b\\6\\2\\1\\3\\d"]==="\\4\\7\\2\\e\\0\\f\\1\\3\\g\\5\\0\\3"){h a=i}',
					19,
					19,
					"u006f|u0061|u006e|u006d|u006c|u0063|u0074|u0069|u0068|window||u0073|if|u0065|u0067|u006a|u002e|var|true".split(
						"|"
					),
					0,
					{}
				)
			);
		</script>
	</head>
	<body>
		<div class="translate-container">
			<div class="halving-div-left">
				<div class="transdiv english box-shadow-1">
					<textarea id="english-text" placeholder="olili-lan goes here...">
koko-ako etoki poka kaka-ako: iti kaka-ako</textarea
					>
				</div>
			</div>
			<div class="halving-div-right">
				<div class="transdiv olililan box-shadow-1">
					<textarea id="olililan-text" placeholder="or English goes here..."></textarea>
				</div>
			</div>
			<div style="clear: both"></div>
		</div>
		<script>
			try {
				var reverseIsDisabled = false;
				//<![CDATA[

				//]]>
			} catch (e) {
				alert("There's an error in the translator script. Error:" + e);
			}

			try {
				phrases1 = jsonData.phrases1.split("\n");
				phrases2 = jsonData.phrases2.split("\n");
				words1 = jsonData.words1.split("\n");
				words2 = jsonData.words2.split("\n");
				intraword1 = jsonData.intraword1.split("\n");
				intraword2 = jsonData.intraword2.split("\n");
				prefixes1 = jsonData.prefixes1.split("\n");
				prefixes2 = jsonData.prefixes2.split("\n");
				suffixes1 = jsonData.suffixes1.split("\n");
				suffixes2 = jsonData.suffixes2.split("\n");
				regex1 = jsonData.regex1.split("\n");
				regex2 = jsonData.regex2.split("\n");
				rev_regex1 = jsonData.rev_regex1.split("\n");
				rev_regex2 = jsonData.rev_regex2.split("\n");
				ordering1 = jsonData.ordering1.split("\n");
				ordering2 = jsonData.ordering2.split("\n");
			} catch (err) {
				alert("ERROR! Error log: " + err.message);
			}

			evenUpSizes(phrases1, phrases2);
			evenUpSizes(words1, words2);
			evenUpSizes(intraword1, intraword2);
			evenUpSizes(prefixes1, prefixes2);
			evenUpSizes(suffixes1, suffixes2);

			//fix for mysql trailing newline deletion problem
			function evenUpSizes(a, b) {
				if (a.length > b.length) {
					while (a.length > b.length) b.push("");
				} else if (b.length > a.length) {
					while (b.length > a.length) a.push("");
				}
			}

			handleDuplicates(words1, words2);
			/* Initial translate for default text */
			if ($("#english-text").val() != "") {
				var english = $("#english-text").val();
				var olililan = translate(english);
				$("#olililan-text").val(olililan);
			}
		</script>
	</body>
</html>
